package com.demo;

import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;

public class ClientDemo {

	public static void main(String[] args) throws ClientProtocolException, IOException {

		String urlString = "http://localhost:8080/com.navink.wtp.first/FileCounter";
		File uploadFile = new File("build.xml");
		URL url = new URL(urlString);
		HttpURLConnection httpConn = (HttpURLConnection) url.openConnection();
		httpConn.setUseCaches(false);
        httpConn.setDoOutput(true);
        httpConn.setRequestMethod("POST");
        httpConn.setRequestProperty("fileName", uploadFile.getName());
        OutputStream outputStream = httpConn.getOutputStream();

		
		//Execute and get the response.
		HttpResponse response = httpclient.execute(httppost);
		HttpEntity entity = response.getEntity();

		if (entity != null) {
		    InputStream instream = entity.getContent();
		    try {
		        System.out.println(instream.read(new byte[256], 0, 256));
		    } finally {
		        instream.close();
		    }
		}
	}

}
